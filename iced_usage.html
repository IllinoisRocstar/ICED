<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ICED_Physics: Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="iced_logo_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ICED_Physics
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ICED: llinois Rocstarâ€™s Integrated Computational Environment for Electrochemical Device Design (ICED)</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('iced_usage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="iced_setting_up"></a>
Setting Up _ICED_ Simulations</h1>
<p><em><a class="el" href="namespaceICED.html">ICED</a></em> conceptulizes an electrochemical device as a collection of components that can be further broken down into a set of modules defining the relevant physics. The <a class="el" href="iced_capabilities.html">Capabilities</a> page further defines the governing equations solved by these physics modules. The device/component/physics module relationship is illustrated by the figure below.</p>
<div class="image">
<img src="ECDC.png" alt="ECDC.png"/>
<div class="caption">
Schematic showing the relationship between the device, component, and module levels.</div></div>
<p> The operation of <em><a class="el" href="namespaceICED.html">ICED</a></em> is controlled by a set of ASCII input files. The files are in free-floating format with specified keyword/value pairs separated by an equal sign. These parameters are summarized at the end of the following sections for each construct. Note that while there are three constructs, only devices and components have input files defining their operation.</p>
<h2><a class="anchor" id="iced_device_input"></a>
Device Level Input</h2>
<p>The input file required is at the device level. There are three main types of data specified in this file. First, this file sets all of the solver specific parameters for a simulation. This includes selecting the relevant numerical methods, implicit vs explicit timestepping, solution dump intervals, and timestep sizes.</p>
<p>The second piece of information described by this file is the components that make up the device. These items are specified with the <b>ecdc</b> keyword as follows: </p>
<pre class="fragment">ecdc1=anode anode.inp
</pre><p>This initializes electrochemical device component 1 to be named anode. The parameters governing this device's operation will be read from the file anode.inp. The electrochemical devices should be numbered such that their layout in physical space is linear in order, e.g. </p>
<pre class="fragment">ecdc1 | ecdc2 | ecdc3
</pre><p>as opposed to </p>
<pre class="fragment">ecdc1 | ecdc3 | ecdc2
</pre><p>Finally, the user may specify any keyword typically related to a component specific variable at the device level. This approach is identical to specifiying a keywork in each component input file with the same value. This value can be overwritten if it is specified again at the component level.</p>
<p>An example device input file is given below: </p>
<pre class="fragment">#solver setup
dumpInterval=5
maxTime=1.0
transientSolver=2
dt=0.01
temperature=500.
electrolyteDensity = 1000.0
#load components
ecdc1=firstComponent component1.inp
ecdc2=secondComponent component2.inp
ecdc3=thirdComponent component3.inp
</pre><p>In this example, three components are specified: firstComponent, secondComponent, and thirdComponent. The input for there components will be read from component1.inp, component2.inp, and component3.inp respectively. The solver parameters maxTime and dt are set and the transient solver type is chosen. Finally, the component parameters temperature and electrolyte density have been set and will be copied to the components.</p>
<p>The following table lists the possible device level input parameters and their effect.</p>
<table class="doxtable">
<tr>
<th align="right">Parameter </th><th align="center">Description </th><th align="left">Value  </th></tr>
<tr>
<td align="right">iterationLimit </td><td align="center">maximum number of time iterations </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initializationType </td><td align="center">Method by which solution is initialized </td><td align="left">Defaults to constant variables found in the component list. Setting to 2 will use a Newmann Dualfoil like initialization and currently provides better results. </td></tr>
<tr>
<td align="right">transientSolver </td><td align="center">type of transient solver </td><td align="left">0=steady<br/>
1=forward euler<br/>
2=backward euler </td></tr>
<tr>
<td align="right">dumpInterval </td><td align="center">time frequency for output dumps </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">maxTime </td><td align="center">maximum simulation time </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">dt </td><td align="center">timestep </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">ecdc[1-9] </td><td align="center">keyword for electrochemical device component specification </td><td align="left">&lt;component name&gt; &lt;component input file&gt; </td></tr>
</table>
<h2><a class="anchor" id="iced_component_level"></a>
Component Level Input</h2>
<p>The component level input files behave in much the same manner as the device level input files. Here, only three types of data are defined, the component geometry and boundary conditions, component specific material properties, and enabled physics modules.</p>
<p>For the component geometry, <em><a class="el" href="namespaceICED.html">ICED</a></em> uses a uniform cartesian mesh. The user specifies a number of nodes (<b>numNodes</b>) and a component minimum (<b>xMin</b>) and maximum (<b>xMax</b>) dimension. The boundary conditions are specified by a position (<b>leftBC</b> or <b>rightBC</b>), type (<b>currentCollector</b> or <b>separator</b>), and value (<b>current</b> or <b>voltage</b>). Where value is a string/number pair. For example</p>
<p>leftBC = currentCollector current -1.0</p>
<p>sets the left boundary of the component to be a current with a specified current of -1.0 amps. The negative denotes that electrons are flowing out of this boundary. The types parameter enables the appropriate Neumann or Dirichlet boundary conditions for each solution variable. See the <a class="el" href="iced_capabilities.html">Capabilities</a> page for more information about what boundary conditions are applied.</p>
<p>Component physics modules are enabled in a similar manner to components, by specifying the physics module name followed by the module priority. For example </p>
<pre class="fragment">Diffusion = 2
</pre><p>enables the physics module with a priority of two. The priority defines the order in which the physics module is executed. <em><a class="el" href="namespaceICED.html">ICED</a></em> calls all the physics modules with priority one first, then two, and three and so on. This feature is primarily used with modules that populate mesh dependent material properties that are used in subsequent modules. For example, the <a class="el" href="classICED_1_1HalfCell_1_1ConcentrationDiffusion.html">Diffusion</a> module computes a concentration dependent concentration coefficient at each mesh point. These coefficients are then used by the <a class="el" href="classICED_1_1HalfCell_1_1Diffusion.html">Diffusion</a> module.</p>
<p>The following table lists the possible component level input parameters and their effect.</p>
<table class="doxtable">
<tr>
<th align="right">Parameter </th><th align="center">Description </th><th align="left">Value  </th></tr>
<tr>
<td align="right"></td><td align="center"><b>Geometry</b> <b></b> </td><td align="left"></td></tr>
<tr>
<td align="right">numNodes </td><td align="center">Number of components nodes</td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">xMin </td><td align="center">Minimum x extent </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">xMax </td><td align="center">Maximum x extent </td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right"></td><td align="center"><b>Boundary</b> <b>Conditions</b> </td><td align="left"></td></tr>
<tr>
<td align="right">leftBC </td><td align="center">Initializes the right component boundary conditions with &lt;type&gt; &lt;value&gt; specification </td><td align="left">&lt;type&gt; currentCollector or separator <br/>
 &lt;value&gt; current or voltage <br/>
 &lt;arg&gt; </td></tr>
<tr>
<td align="right">rightBC </td><td align="center">Initializes the left component boundary conditions with &lt;type&gt; &lt;value&gt; specification </td><td align="left">&lt;type&gt; currentCollector or separator <br/>
 &lt;value&gt; current or voltage <br/>
 &lt;arg&gt; </td></tr>
<tr>
<td align="right"></td><td align="center"><b>Solution</b> <b>Variable</b> <b>Initialization</b> </td><td align="left"></td></tr>
<tr>
<td align="right">initialSaltConcentration </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initialElectrolytePotential </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initialSolidPotential </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initialElectrolyteLiConcentration </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initialSolidLiConcentration </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">initialElectronProductionRate </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right"></td><td align="center"><b>Material</b> <b>Properties</b> </td><td align="left"></td></tr>
<tr>
<td align="right">stoichParameter </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">temperature </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">solidDiffusionCoefficient </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">electrolyteVolumeFraction </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">solidConductivity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">electrolyteConductivity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">rateConstant </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">coulombicCapacity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">electrolyteDensity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">solidDensity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">electrolyteActivityCoefficient </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">solidTransferenceNumber </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">symmetryParameter </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">polymerMaxConcentration </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">cathodicRateConstant </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">anodicRateConstant </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">bruggemanCoefficient </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">faradayConstant </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">gasConstant </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">poreRadius </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">velocityOfSpeciesI </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">chargeNumber </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">numberOfIons </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">effectiveElectrolyteConductivity </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">numberOfElectrons </td><td align="center"></td><td align="left">&lt;arg&gt; </td></tr>
<tr>
<td align="right">transferenceCoefficients </td><td align="center">List of coefficients used to calculated the transference number </td><td align="left">&lt;arg list&gt; </td></tr>
<tr>
<td align="right">concentrationDiffusionCoefficients </td><td align="center">List of coefficients used to calcuate the diffusion coefficient </td><td align="left">&lt;arg list&gt; </td></tr>
<tr>
<td align="right">activityCoefficients </td><td align="center">List of coefficients used to calcualted the activity number </td><td align="left">&lt;arg list&gt; </td></tr>
<tr>
<td align="right"></td><td align="center"><b>Physics</b> <b>Modules</b> </td><td align="left"></td></tr>
<tr>
<td align="right">TransferenceNumber </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1TransferenceNumber.html">TransferenceNumber</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">ConcentrationDiffusion </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1ConcentrationDiffusion.html">ConcentrationDiffusion</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">ActivityCoefficient </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1ActivityCoefficient.html">ActivityCoefficient</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">IonMigration </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1IonMigration.html">IonMigration</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">ButlerVolmer </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1ButlerVolmer.html">ButlerVolmer</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">WallFlux </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1WallFlux.html">WallFlux</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">Diffusion </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1Diffusion.html">Diffusion</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">OhmsLawElectrolyte </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1OhmsLawElectrolyte.html">OhmsLawElectrolyte</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">OhmsLawSolid </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1OhmsLawSolid.html">OhmsLawSolid</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">IonMigration </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1IonMigration.html">IonMigration</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right">Intercalation </td><td align="center"><a class="el" href="classICED_1_1HalfCell_1_1Intercalation.html">Intercalation</a> </td><td align="left">&lt;priority&gt; </td></tr>
<tr>
<td align="right"></td><td align="center"><b>Other</b> </td><td align="left"></td></tr>
<tr>
<td align="right">openCircuitPotentialType </td><td align="center">Method for calculating the open circuit potential in the ButlerVolmer module. Hard coded for various materials. Taken from Newmann's DualFoil code. </td><td align="left">0 Bellcore graphite (Lonza KS6) <br/>
 1 Bellcore graphite (Lonza KS6), Marc Doyle fit <br/>
 2 MCMB 2528 graphite </td></tr>
</table>
<h1><a class="anchor" id="iced_running"></a>
Running _ICED_ Simulations</h1>
<p>After a successful compilation, <em><a class="el" href="namespaceICED.html">ICED</a></em> can be run from the command line with </p>
<pre class="fragment">batterySim \&lt;device input filename\&gt;
</pre><h1><a class="anchor" id="iced_postprocessing"></a>
_ICED_ Simulation Output</h1>
<p><em><a class="el" href="namespaceICED.html">ICED</a></em> writes output files into a directory named <b>Output</b>. This folder is created if it does not exist. The output files are named by solution time, e.g. </p>
<pre class="fragment">Solution_\&lt;time\&gt;.dat
</pre><p>where time is a number in scientific notation. The data is arrayed into 6 columns for the entire device. </p>
<pre class="fragment">x (m)  Elec Potential (V)  Solid Potential (V)  Elec Ion Conc (mol/m^3)  Solid Ion Conc mol/m^3  Wall Flux (mol/(m^2 s))</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Nov 23 2015 13:10:50 for ICED_Physics by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
